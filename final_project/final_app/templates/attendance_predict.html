{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict GPA Based on Attendance</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>tailwind.config={theme:{extend:{colors:{primary:'#800020',secondary:'#333333'},borderRadius:{'none':'0px','sm':'4px',DEFAULT:'8px','md':'12px','lg':'16px','xl':'20px','2xl':'24px','3xl':'32px','full':'9999px','button':'8px'}}}}</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <style>
        html {
        scroll-behavior: smooth;
        }
        :where([class^="ri-"])::before { content: "\f3c2"; }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #1a0008 0%, #000000 100%);
            min-height: 100vh;
        }
        .title-font {
            font-family: 'Playfair Display', serif;
        }
        .input-field:focus {
            outline: none;
            border-color: #800020;
            box-shadow: 0 0 0 2px rgba(128, 0, 32, 0.2);
        }
        .prediction-card {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .prediction-card.show {
            opacity: 1;
            transform: translateY(0);
        }
        .error-message {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-2px, 0, 0); }
            40%, 60% { transform: translate3d(2px, 0, 0); }
        }
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        input[type="number"] {
            -moz-appearance: textfield;
        }
    </style>
</head>
<body class="text-white">
    <!-- Navbar -->
    <nav class="sticky top-0 z-50 bg-black bg-opacity-90 backdrop-blur-sm border-b border-gray-800">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-['Pacifico'] text-primary">Group 7</a>
            <div class="hidden md:flex space-x-8">
                <a href="#"  class="text-white text-1xl hover:text-primary">Prediction</a>
                <a href="#conclusion" class="text-white text-1xl hover:text-primary">Conclusion</a>
            </div>
            <div class="md:hidden w-10 h-10 flex items-center justify-center">
                <i class="ri-menu-line ri-lg"></i>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-12 min-h-[calc(100vh-80px)] flex flex-col items-center justify-center">
        <!-- Header -->
        <div class="text-center mb-12 max-w-3xl">
            <h1 class="title-font text-4xl md:text-5xl font-bold mb-4 text-white">Predict GPA Based on Attendance</h1>
            <p class="text-gray-300 italic text-lg md:text-xl">Enter your attendance percentage to see your predicted GPA using our machine learning regression model.</p>
        </div>

        <!-- Prediction Card -->
        <form method="post">
        {% csrf_token %}
        <div class="w-full max-w-md bg-black bg-opacity-70 border border-gray-800 rounded-md shadow-2xl p-8 md:p-10">
            <div class="mb-6">
                <label for="attendance" class="block text-gray-200 mb-2 font-medium">Attendance Percentage</label>
                <div class="relative">
                    <input 
                        type="number" 
                        id="attendance" 
                        name="attendance"
                        class="input-field w-full px-4 py-3 bg-gray-900 border border-gray-700 rounded-button text-white transition duration-300"
                        placeholder="only numbers"
                        min="0"
                        max="100"
                    >
                    <div class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400">%</div>
                </div>
                <div id="error-message" class="hidden error-message mt-2 text-red-400 text-sm"></div>
            </div>

            <button id="predict-button" class="w-full bg-primary hover:bg-primary/80 text-white py-3 px-6 rounded-button font-medium transition duration-300 shadow-lg !rounded-button whitespace-nowrap">
                Predict GPA
            </button>
    </form>

            <!-- Result Card (Hidden by default) -->
    {% if prediction %}
    <div class="prediction-card show mt-8 bg-gray-900 bg-opacity-60 border border-gray-700 rounded-md p-6 text-center">
        <p class="text-gray-300 mb-2">Your predicted GPA is:</p>
        <div class="flex items-center justify-center">
            <span class="text-4xl font-bold text-primary">{{ prediction }}</span>
        </div>
        <p class="text-gray-400 mt-4 text-sm">Based on our regression model trained on student data</p>
    </div>
    {% endif %}
{% if prediction %}
    <p class="text-sm text-gray-400 mt-6 text-center italic">
        ⚠️ Note: Attendance alone does not determine GPA. Other factors like study habits, coursework difficulty, and exam performance also play a role.
    </p>
{% endif %}
        <!-- Back Button -->
<a href="{% url 'home' %}" class="mt-8 inline-flex items-center text-gray-300 hover:text-white transition duration-300">
    <div class="w-5 h-5 flex items-center justify-center mr-2">
        <i class="ri-arrow-left-line"></i>
    </div>
    <span>Back to Dashboard</span>
</a>
    </main>
        </div>

<!-- Conclusion Section -->
<section id="conclusion" class="mt-24 text-center">
    <h2 class="text-5xl font-bold title-font mb-6">Conclusion</h2>
    <div class="max-w-3xl mx-auto text-gray-300 text-lg leading-relaxed px-4 mb-10">
        <p class="mb-6">
            After running some tests with a <span class="text-primary font-semibold">Linear Regression</span> machine learning model, we found a 
            <strong class="text-primary">positive correlation</strong> between student attendance and GPA.
        </p>

        <!-- Image -->
        <div class="flex justify-center mb-4">
            <img src="{% static 'final_app/images/attendance_vs_gpa_regression.png' %}" 
                 alt="Attendance vs GPA Plot" 
                 class="rounded-lg shadow-xl max-w-2xl w-full">
        </div>
        <p class="text-sm text-gray-500 italic mb-10">
            Figure: Linear regression line between attendance percentage and student GPA
        </p>

        <p>
            However, the <strong class="text-primary">relationship is weak</strong> — high attendance does not always guarantee high GPA.
            This indicates that GPA is influenced by <strong class="text-primary">multiple factors</strong> including personal study habits, 
            exam performance, and course difficulty.
        </p>
    </div>
</section>

<footer class="bg-secondary py-10">
<div class="max-w-7xl mx-auto px-6 ">
<div class="flex flex-col md:flex-row justify-between items-center ">
<div class="mb-6 md:mb-0">
<h1 class="text-2xl font-['Pacifico'] text-primary">Group 7</h1>
<p class="text-gray-400 mt-2">Data Science Project © 2025</p>
</div>
<div class="flex space-x-6">
<a href="#" class="text-gray-400 hover:text-primary transition-colors">
<div class="w-10 h-10 flex items-center justify-center">
<i class="ri-github-fill ri-lg"></i>
</div>
</a>
<a href="#" class="text-gray-400 hover:text-primary transition-colors">
<div class="w-10 h-10 flex items-center justify-center">
<i class="ri-linkedin-box-fill ri-lg"></i>
</div>
</a>
<a href="#" class="text-gray-400 hover:text-primary transition-colors">
<div class="w-10 h-10 flex items-center justify-center">
<i class="ri-twitter-fill ri-lg"></i>
</div>
</a>
<a href="#" class="text-gray-400 hover:text-primary transition-colors">
<div class="w-10 h-10 flex items-center justify-center">
<i class="ri-instagram-fill ri-lg"></i>
</div>
</a>
</div>
</div>
<div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-500 text-sm">
<p>Designed and developed by Group 7 Data Science Team. All rights reserved.</p>
</div>
</div>
</footer>

</body>
</html>